<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Substrate state API"><meta name="keywords" content="rust, rustlang, rust-lang, StateApi"><title>sc_rpc_api::state::StateApi - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings"></script><script src="../../storage.js"></script><script src="../../crates.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../sc_rpc_api/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><p class="location">Trait StateApi</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#associated-types">Associated Types</a><div class="sidebar-links"><a href="#associatedtype.Metadata">Metadata</a></div><a class="sidebar-title" href="#required-methods">Required Methods</a><div class="sidebar-links"><a href="#tymethod.call">call</a><a href="#tymethod.metadata">metadata</a><a href="#tymethod.storage">storage</a><a href="#tymethod.storage_keys">storage_keys</a><a href="#tymethod.storage_pairs">storage_pairs</a><a href="#tymethod.storage_keys_paged">storage_keys_paged</a><a href="#tymethod.storage_hash">storage_hash</a><a href="#tymethod.storage_size">storage_size</a><a href="#tymethod.runtime_version">runtime_version</a><a href="#tymethod.query_storage">query_storage</a><a href="#tymethod.query_storage_at">query_storage_at</a><a href="#tymethod.read_proof">read_proof</a><a href="#tymethod.subscribe_runtime_version">subscribe_runtime_version</a><a href="#tymethod.unsubscribe_runtime_version">unsubscribe_runtime_version</a><a href="#tymethod.subscribe_storage">subscribe_storage</a><a href="#tymethod.unsubscribe_storage">unsubscribe_storage</a><a href="#tymethod.trace_block">trace_block</a></div><a class="sidebar-title" href="#provided-methods">Provided Methods</a><div class="sidebar-links"><a href="#method.to_delegate">to_delegate</a></div><a class="sidebar-title" href="#implementors">Implementors</a></div><p class="location"><a href="../index.html">sc_rpc_api</a>::<wbr><a href="index.html">state</a></p><div id="sidebar-vars" data-name="StateApi" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Trait <a href="../index.html">sc_rpc_api</a>::<wbr><a href="index.html">state</a>::<wbr><a class="trait" href="">StateApi</a></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/sc_rpc_api/state/mod.rs.html#37-253" title="goto source code">[src]</a></span></h1><div class="docblock type-decl hidden-by-usual-hider"><pre class="rust trait">pub trait StateApi&lt;Hash&gt;: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static {
    type <a href="#associatedtype.Metadata" class="type">Metadata</a>: <a class="trait" href="../../jsonrpc_pubsub/types/trait.PubSubMetadata.html" title="trait jsonrpc_pubsub::types::PubSubMetadata">PubSubMetadata</a>;
    fn <a href="#tymethod.call" class="fnname">call</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bytes: <a class="struct" href="../../sp_core/struct.Bytes.html" title="struct sp_core::Bytes">Bytes</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="struct" href="../../sp_core/struct.Bytes.html" title="struct sp_core::Bytes">Bytes</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.storage_keys" class="fnname">storage_keys</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prefix: <a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.storage_pairs" class="fnname">storage_pairs</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prefix: <a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>, <a class="struct" href="../../sp_storage/struct.StorageData.html" title="struct sp_storage::StorageData">StorageData</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.storage_keys_paged" class="fnname">storage_keys_paged</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prefix: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_key: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.storage" class="fnname">storage</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key: <a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageData.html" title="struct sp_storage::StorageData">StorageData</a>&gt;&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.storage_hash" class="fnname">storage_hash</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key: <a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.storage_size" class="fnname">storage_size</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key: <a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.metadata" class="fnname">metadata</a>(&amp;self, hash: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="struct" href="../../sp_core/struct.Bytes.html" title="struct sp_core::Bytes">Bytes</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.runtime_version" class="fnname">runtime_version</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="struct" href="../../sp_version/struct.RuntimeVersion.html" title="struct sp_version::RuntimeVersion">RuntimeVersion</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.query_storage" class="fnname">query_storage</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keys: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block: Hash, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageChangeSet.html" title="struct sp_storage::StorageChangeSet">StorageChangeSet</a>&lt;Hash&gt;&gt;&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.query_storage_at" class="fnname">query_storage_at</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keys: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageChangeSet.html" title="struct sp_storage::StorageChangeSet">StorageChangeSet</a>&lt;Hash&gt;&gt;&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.read_proof" class="fnname">read_proof</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keys: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="struct" href="../../sc_rpc_api/state/helpers/struct.ReadProof.html" title="struct sc_rpc_api::state::helpers::ReadProof">ReadProof</a>&lt;Hash&gt;&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.subscribe_runtime_version" class="fnname">subscribe_runtime_version</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;metadata: Self::<a class="type" href="../../sc_rpc_api/state/trait.StateApi.html#associatedtype.Metadata" title="type sc_rpc_api::state::StateApi::Metadata">Metadata</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subscriber: <a class="struct" href="../../jsonrpc_pubsub/typed/struct.Subscriber.html" title="struct jsonrpc_pubsub::typed::Subscriber">Subscriber</a>&lt;<a class="struct" href="../../sp_version/struct.RuntimeVersion.html" title="struct sp_version::RuntimeVersion">RuntimeVersion</a>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;);
<div class="item-spacer"></div>    fn <a href="#tymethod.unsubscribe_runtime_version" class="fnname">unsubscribe_runtime_version</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;metadata: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="type" href="../../sc_rpc_api/state/trait.StateApi.html#associatedtype.Metadata" title="type sc_rpc_api::state::StateApi::Metadata">Metadata</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id: <a class="enum" href="../../jsonrpc_pubsub/types/enum.SubscriptionId.html" title="enum jsonrpc_pubsub::types::SubscriptionId">SubscriptionId</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../../jsonrpc_core/type.Result.html" title="type jsonrpc_core::Result">RpcResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.subscribe_storage" class="fnname">subscribe_storage</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;metadata: Self::<a class="type" href="../../sc_rpc_api/state/trait.StateApi.html#associatedtype.Metadata" title="type sc_rpc_api::state::StateApi::Metadata">Metadata</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subscriber: <a class="struct" href="../../jsonrpc_pubsub/typed/struct.Subscriber.html" title="struct jsonrpc_pubsub::typed::Subscriber">Subscriber</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageChangeSet.html" title="struct sp_storage::StorageChangeSet">StorageChangeSet</a>&lt;Hash&gt;&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keys: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;);
<div class="item-spacer"></div>    fn <a href="#tymethod.unsubscribe_storage" class="fnname">unsubscribe_storage</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;metadata: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="type" href="../../sc_rpc_api/state/trait.StateApi.html#associatedtype.Metadata" title="type sc_rpc_api::state::StateApi::Metadata">Metadata</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id: <a class="enum" href="../../jsonrpc_pubsub/types/enum.SubscriptionId.html" title="enum jsonrpc_pubsub::types::SubscriptionId">SubscriptionId</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../../jsonrpc_core/type.Result.html" title="type jsonrpc_core::Result">RpcResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.trace_block" class="fnname">trace_block</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block: Hash, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;targets: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storage_keys: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="enum" href="../../sp_rpc/tracing/enum.TraceBlockResponse.html" title="enum sp_rpc::tracing::TraceBlockResponse">TraceBlockResponse</a>&gt;;

    fn <a href="#method.to_delegate" class="fnname">to_delegate</a>(self) -&gt; <a class="struct" href="../../jsonrpc_pubsub/delegates/struct.IoDelegate.html" title="struct jsonrpc_pubsub::delegates::IoDelegate">IoDelegate</a>&lt;Self, Self::<a class="type" href="../../sc_rpc_api/state/trait.StateApi.html#associatedtype.Metadata" title="type sc_rpc_api::state::StateApi::Metadata">Metadata</a>&gt;<br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hash: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static + <a class="trait" href="../../serde/ser/trait.Serialize.html" title="trait serde::ser::Serialize">Serialize</a> + <a class="trait" href="../../serde/de/trait.DeserializeOwned.html" title="trait serde::de::DeserializeOwned">DeserializeOwned</a></span>,
    { ... }
}</pre></div><div class="docblock"><p>Substrate state API</p>
</div><h2 id="associated-types" class="small-section-header">Associated Types<a href="#associated-types" class="anchor"></a></h2><div class="methods"><h3 id="associatedtype.Metadata" class="method"><code>type <a href="#associatedtype.Metadata" class="type">Metadata</a>: <a class="trait" href="../../jsonrpc_pubsub/types/trait.PubSubMetadata.html" title="trait jsonrpc_pubsub::types::PubSubMetadata">PubSubMetadata</a></code><a class="srclink" href="../../src/sc_rpc_api/state/mod.rs.html#39" title="goto source code">[src]</a></h3><div class="docblock"><p>RPC Metadata</p>
</div></div><span class="loading-content">Loading content...</span><h2 id="required-methods" class="small-section-header">Required methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><h3 id="tymethod.call" class="method"><code>fn <a href="#tymethod.call" class="fnname">call</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;name: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;bytes: <a class="struct" href="../../sp_core/struct.Bytes.html" title="struct sp_core::Bytes">Bytes</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;hash: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;<br>) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="struct" href="../../sp_core/struct.Bytes.html" title="struct sp_core::Bytes">Bytes</a>&gt;</code><a class="srclink" href="../../src/sc_rpc_api/state/mod.rs.html#43" title="goto source code">[src]</a></h3><div class="docblock"><p>Call a contract at a block’s state.</p>
</div><h3 id="tymethod.storage_keys" class="method"><code>fn <a href="#tymethod.storage_keys" class="fnname">storage_keys</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;prefix: <a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;hash: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;<br>) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;&gt;</code><a class="srclink" href="../../src/sc_rpc_api/state/mod.rs.html#48" title="goto source code">[src]</a></h3><div class="docblock"><p>DEPRECATED: Please use <code>state_getKeysPaged</code> with proper paging support.
Returns the keys with prefix, leave empty to get all the keys.</p>
</div><h3 id="tymethod.storage_pairs" class="method"><code>fn <a href="#tymethod.storage_pairs" class="fnname">storage_pairs</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;prefix: <a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;hash: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;<br>) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>, <a class="struct" href="../../sp_storage/struct.StorageData.html" title="struct sp_storage::StorageData">StorageData</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;&gt;</code><a class="srclink" href="../../src/sc_rpc_api/state/mod.rs.html#52" title="goto source code">[src]</a></h3><div class="docblock"><p>Returns the keys with prefix, leave empty to get all the keys</p>
</div><h3 id="tymethod.storage_keys_paged" class="method"><code>fn <a href="#tymethod.storage_keys_paged" class="fnname">storage_keys_paged</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;prefix: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;count: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;start_key: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;hash: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;<br>) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;&gt;</code><a class="srclink" href="../../src/sc_rpc_api/state/mod.rs.html#58-64" title="goto source code">[src]</a></h3><div class="docblock"><p>Returns the keys with prefix with pagination support.
Up to <code>count</code> keys will be returned.
If <code>start_key</code> is passed, return next keys in storage in lexicographic order.</p>
</div><h3 id="tymethod.storage" class="method"><code>fn <a href="#tymethod.storage" class="fnname">storage</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;key: <a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;hash: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;<br>) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageData.html" title="struct sp_storage::StorageData">StorageData</a>&gt;&gt;</code><a class="srclink" href="../../src/sc_rpc_api/state/mod.rs.html#68" title="goto source code">[src]</a></h3><div class="docblock"><p>Returns a storage entry at a specific block’s state.</p>
</div><h3 id="tymethod.storage_hash" class="method"><code>fn <a href="#tymethod.storage_hash" class="fnname">storage_hash</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;key: <a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;hash: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;<br>) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;&gt;</code><a class="srclink" href="../../src/sc_rpc_api/state/mod.rs.html#72" title="goto source code">[src]</a></h3><div class="docblock"><p>Returns the hash of a storage entry at a block’s state.</p>
</div><h3 id="tymethod.storage_size" class="method"><code>fn <a href="#tymethod.storage_size" class="fnname">storage_size</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;key: <a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;hash: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;<br>) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;&gt;</code><a class="srclink" href="../../src/sc_rpc_api/state/mod.rs.html#76" title="goto source code">[src]</a></h3><div class="docblock"><p>Returns the size of a storage entry at a block’s state.</p>
</div><h3 id="tymethod.metadata" class="method"><code>fn <a href="#tymethod.metadata" class="fnname">metadata</a>(&amp;self, hash: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="struct" href="../../sp_core/struct.Bytes.html" title="struct sp_core::Bytes">Bytes</a>&gt;</code><a class="srclink" href="../../src/sc_rpc_api/state/mod.rs.html#80" title="goto source code">[src]</a></h3><div class="docblock"><p>Returns the runtime metadata as an opaque blob.</p>
</div><h3 id="tymethod.runtime_version" class="method"><code>fn <a href="#tymethod.runtime_version" class="fnname">runtime_version</a>(&amp;self, hash: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="struct" href="../../sp_version/struct.RuntimeVersion.html" title="struct sp_version::RuntimeVersion">RuntimeVersion</a>&gt;</code><a class="srclink" href="../../src/sc_rpc_api/state/mod.rs.html#84" title="goto source code">[src]</a></h3><div class="docblock"><p>Get the runtime version.</p>
</div><h3 id="tymethod.query_storage" class="method"><code>fn <a href="#tymethod.query_storage" class="fnname">query_storage</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;keys: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;block: Hash, <br>&nbsp;&nbsp;&nbsp;&nbsp;hash: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;<br>) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageChangeSet.html" title="struct sp_storage::StorageChangeSet">StorageChangeSet</a>&lt;Hash&gt;&gt;&gt;</code><a class="srclink" href="../../src/sc_rpc_api/state/mod.rs.html#91-96" title="goto source code">[src]</a></h3><div class="docblock"><p>Query historical storage entries (by key) starting from a block given as the second parameter.</p>
<p>NOTE This first returned result contains the initial state of storage for all keys.
Subsequent values in the vector represent changes to the previous state (diffs).</p>
</div><h3 id="tymethod.query_storage_at" class="method"><code>fn <a href="#tymethod.query_storage_at" class="fnname">query_storage_at</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;keys: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;at: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;<br>) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageChangeSet.html" title="struct sp_storage::StorageChangeSet">StorageChangeSet</a>&lt;Hash&gt;&gt;&gt;</code><a class="srclink" href="../../src/sc_rpc_api/state/mod.rs.html#100-104" title="goto source code">[src]</a></h3><div class="docblock"><p>Query storage entries (by key) starting at block hash given as the second parameter.</p>
</div><h3 id="tymethod.read_proof" class="method"><code>fn <a href="#tymethod.read_proof" class="fnname">read_proof</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;keys: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;hash: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;<br>) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="struct" href="../../sc_rpc_api/state/helpers/struct.ReadProof.html" title="struct sc_rpc_api::state::helpers::ReadProof">ReadProof</a>&lt;Hash&gt;&gt;</code><a class="srclink" href="../../src/sc_rpc_api/state/mod.rs.html#108" title="goto source code">[src]</a></h3><div class="docblock"><p>Returns proof of storage entries at a specific block’s state.</p>
</div><h3 id="tymethod.subscribe_runtime_version" class="method"><code>fn <a href="#tymethod.subscribe_runtime_version" class="fnname">subscribe_runtime_version</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;metadata: Self::<a class="type" href="../../sc_rpc_api/state/trait.StateApi.html#associatedtype.Metadata" title="type sc_rpc_api::state::StateApi::Metadata">Metadata</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;subscriber: <a class="struct" href="../../jsonrpc_pubsub/typed/struct.Subscriber.html" title="struct jsonrpc_pubsub::typed::Subscriber">Subscriber</a>&lt;<a class="struct" href="../../sp_version/struct.RuntimeVersion.html" title="struct sp_version::RuntimeVersion">RuntimeVersion</a>&gt;<br>)</code><a class="srclink" href="../../src/sc_rpc_api/state/mod.rs.html#117" title="goto source code">[src]</a></h3><div class="docblock"><p>New runtime version subscription</p>
</div><h3 id="tymethod.unsubscribe_runtime_version" class="method"><code>fn <a href="#tymethod.unsubscribe_runtime_version" class="fnname">unsubscribe_runtime_version</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;metadata: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="type" href="../../sc_rpc_api/state/trait.StateApi.html#associatedtype.Metadata" title="type sc_rpc_api::state::StateApi::Metadata">Metadata</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;id: <a class="enum" href="../../jsonrpc_pubsub/types/enum.SubscriptionId.html" title="enum jsonrpc_pubsub::types::SubscriptionId">SubscriptionId</a><br>) -&gt; <a class="type" href="../../jsonrpc_core/type.Result.html" title="type jsonrpc_core::Result">RpcResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>&gt;</code><a class="srclink" href="../../src/sc_rpc_api/state/mod.rs.html#126" title="goto source code">[src]</a></h3><div class="docblock"><p>Unsubscribe from runtime version subscription</p>
</div><h3 id="tymethod.subscribe_storage" class="method"><code>fn <a href="#tymethod.subscribe_storage" class="fnname">subscribe_storage</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;metadata: Self::<a class="type" href="../../sc_rpc_api/state/trait.StateApi.html#associatedtype.Metadata" title="type sc_rpc_api::state::StateApi::Metadata">Metadata</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;subscriber: <a class="struct" href="../../jsonrpc_pubsub/typed/struct.Subscriber.html" title="struct jsonrpc_pubsub::typed::Subscriber">Subscriber</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageChangeSet.html" title="struct sp_storage::StorageChangeSet">StorageChangeSet</a>&lt;Hash&gt;&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;keys: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;&gt;<br>)</code><a class="srclink" href="../../src/sc_rpc_api/state/mod.rs.html#130-132" title="goto source code">[src]</a></h3><div class="docblock"><p>New storage subscription</p>
</div><h3 id="tymethod.unsubscribe_storage" class="method"><code>fn <a href="#tymethod.unsubscribe_storage" class="fnname">unsubscribe_storage</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;metadata: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="type" href="../../sc_rpc_api/state/trait.StateApi.html#associatedtype.Metadata" title="type sc_rpc_api::state::StateApi::Metadata">Metadata</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;id: <a class="enum" href="../../jsonrpc_pubsub/types/enum.SubscriptionId.html" title="enum jsonrpc_pubsub::types::SubscriptionId">SubscriptionId</a><br>) -&gt; <a class="type" href="../../jsonrpc_core/type.Result.html" title="type jsonrpc_core::Result">RpcResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>&gt;</code><a class="srclink" href="../../src/sc_rpc_api/state/mod.rs.html#136-138" title="goto source code">[src]</a></h3><div class="docblock"><p>Unsubscribe from storage subscription</p>
</div><h3 id="tymethod.trace_block" class="method"><code>fn <a href="#tymethod.trace_block" class="fnname">trace_block</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;block: Hash, <br>&nbsp;&nbsp;&nbsp;&nbsp;targets: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;storage_keys: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;<br>) -&gt; <a class="type" href="../../sc_rpc_api/state/error/type.FutureResult.html" title="type sc_rpc_api::state::error::FutureResult">FutureResult</a>&lt;<a class="enum" href="../../sp_rpc/tracing/enum.TraceBlockResponse.html" title="enum sp_rpc::tracing::TraceBlockResponse">TraceBlockResponse</a>&gt;</code><a class="srclink" href="../../src/sc_rpc_api/state/mod.rs.html#247-252" title="goto source code">[src]</a></h3><div class="docblock"><p>The <code>state_traceBlock</code> RPC provides a way to trace the re-execution of a single
block, collecting Spans and Events from both the client and the relevant WASM runtime.
The Spans and Events are conceptually equivalent to those from the <a href="https://crates.io/crates/tracing">Tracing</a> crate.</p>
<p>The structure of the traces follows that of the block execution pipeline, so meaningful
interpretation of the traces requires an understanding of the Substrate chain’s block
execution.</p>
<p><a href="https://docs.google.com/drawings/d/1vZoJo9jaXlz0LmrdTOgHck9_1LsfuQPRmTr-5g1tOis/edit?usp=sharing">Link to conceptual map of trace structure for Polkadot and Kusama block execution.</a></p>
<h2 id="node-requirements" class="section-header"><a href="#node-requirements">Node requirements</a></h2>
<ul>
<li>Fully synced archive node (i.e. a node that is not actively doing a “major” sync).</li>
<li><a href="#creating-tracing-enabled-wasm-runtimes">Tracing enabled WASM runtimes</a> for all runtime versions
for which tracing is desired.</li>
</ul>
<h2 id="node-recommendations" class="section-header"><a href="#node-recommendations">Node recommendations</a></h2>
<ul>
<li>Use fast SSD disk storage.</li>
<li>Run node flags to increase DB read speed (i.e. <code>--state-cache-size</code>, <code>--db-cache</code>).</li>
</ul>
<h2 id="creating-tracing-enabled-wasm-runtimes" class="section-header"><a href="#creating-tracing-enabled-wasm-runtimes">Creating tracing enabled WASM runtimes</a></h2>
<ul>
<li>Checkout commit of chain version to compile with WASM traces</li>
<li><a href="https://crates.io/crates/tracing">diener</a> can help to peg commit of substrate to what the chain expects.</li>
<li>Navigate to the <code>runtime</code> folder/package of the chain</li>
<li>Add feature <code>with-tracing = [&quot;frame-executive/with-tracing&quot;, &quot;sp-io/with-tracing&quot;]</code>
under <code>[features]</code> to the <code>runtime</code> packages’ <code>Cargo.toml</code>.</li>
<li>Compile the runtime with <code>cargo build --release --features with-tracing</code></li>
<li>Tracing-enabled WASM runtime should be found in <code>./target/release/wbuild/{{chain}}-runtime</code>
and be called something like <code>{{your_chain}}_runtime.compact.wasm</code>. This can be
renamed/modified however you like, as long as it retains the <code>.wasm</code> extension.</li>
<li>Run the node with the wasm blob overrides by placing them in a folder with all your runtimes,
and passing the path of this folder to your chain, e.g.:
<ul>
<li><code>./target/release/polkadot --wasm-runtime-overrides /home/user/my-custom-wasm-runtimes</code></li>
</ul>
</li>
</ul>
<p>You can also find some pre-built tracing enabled wasm runtimes in <a href="https://docs.google.com/drawings/d/1vZoJo9jaXlz0LmrdTOgHck9_1LsfuQPRmTr-5g1tOis/edit?usp=sharing">substrate-archive</a></p>
<p><a href="https://github.com/paritytech/substrate-archive/wiki">Source.</a></p>
<h2 id="rpc-usage" class="section-header"><a href="#rpc-usage">RPC Usage</a></h2>
<p>The RPC allows for two filtering mechanisms: tracing targets and storage key prefixes.
The filtering of spans and events takes place after they are all collected; so while filters
do not reduce time for actual block re-execution, they reduce the response payload size.</p>
<p>Note: storage events primarily come from <em>primitives/state-machine/src/ext.rs</em>.
The default filters can be overridden, see the <a href="#params">params section</a> for details.</p>
<h3 id="curl-example" class="section-header"><a href="#curl-example"><code>curl</code> example</a></h3>
<pre><code class="language-text">curl \
	-H &quot;Content-Type: application/json&quot; \
	-d '{&quot;id&quot;:1, &quot;jsonrpc&quot;:&quot;2.0&quot;, &quot;method&quot;: &quot;state_traceBlock&quot;, \
	&quot;params&quot;: [&quot;0xb246acf1adea1f801ce15c77a5fa7d8f2eb8fed466978bcee172cc02cf64e264&quot;]}' \
	http://localhost:9933/
</code></pre>
<h3 id="params" class="section-header"><a href="#params">Params</a></h3>
<ul>
<li>
<p><code>block_hash</code> (param index 0): Hash of the block to trace.</p>
</li>
<li>
<p><code>targets</code> (param index 1): String of comma separated (no spaces) targets. Specified
targets match with trace targets by prefix (i.e if a target is in the beginning
of a trace target it is considered a match). If an empty string is specified no
targets will be filtered out. The majority of targets correspond to Rust module names,
and the ones that do not are typically “hardcoded” into span or event location
somewhere in the Substrate source code. (“Non-hardcoded” targets typically come from frame
support macros.)</p>
</li>
<li>
<p><code>storage_keys</code> (param index 2): String of comma separated (no spaces) hex encoded
(no <code>0x</code> prefix) storage keys. If an empty string is specified no events will
be filtered out. If anything other than an empty string is specified, events
will be filtered by storage key (so non-storage events will <strong>not</strong> show up).
You can specify any length of a storage key prefix (i.e. if a specified storage
key is in the beginning of an events storage key it is considered a match).
Example: for balance tracking on Polkadot &amp; Kusama you would likely want
to track changes to account balances with the frame_system::Account storage item,
which is a map from <code>AccountId</code> to <code>AccountInfo</code>. The key filter for this would be
the storage prefix for the map:
<code>26aa394eea5630e07c48ae0c9558cef7b99d880ec681799c0cf30e8886371da9</code>
Additionally you would want to track the extrinsic index, which is under the
<code>:extrinsic_index</code> key. The key for this would be the aforementioned string as bytes
in hex: <code>3a65787472696e7369635f696e646578</code>.
The following are some resources to learn more about storage keys in substrate:
<a href="https://crates.io/crates/tracing">substrate storage</a>, <a href="https://docs.google.com/drawings/d/1vZoJo9jaXlz0LmrdTOgHck9_1LsfuQPRmTr-5g1tOis/edit?usp=sharing">transparent keys in substrate</a>,
<a href="https://github.com/paritytech/substrate-archive/wiki">querying substrate storage via rpc</a>.</p>
</li>
</ul>
<h3 id="maximum-payload-size" class="section-header"><a href="#maximum-payload-size">Maximum payload size</a></h3>
<p>The maximum payload size allowed is 15mb. Payloads over this size will return a
object with a simple error message. If you run into issues with payload size you can
narrow down the traces using a smaller set of targets and/or storage keys.</p>
<p>If you are having issues with maximum payload size you can use the flag
<code>-lstate_tracing=trace</code> to get some logging during tracing.</p>
</div></div><span class="loading-content">Loading content...</span><h2 id="provided-methods" class="small-section-header">Provided methods<a href="#provided-methods" class="anchor"></a></h2><div class="methods"><h3 id="method.to_delegate" class="method"><code>fn <a href="#method.to_delegate" class="fnname">to_delegate</a>(self) -&gt; <a class="struct" href="../../jsonrpc_pubsub/delegates/struct.IoDelegate.html" title="struct jsonrpc_pubsub::delegates::IoDelegate">IoDelegate</a>&lt;Self, Self::<a class="type" href="../../sc_rpc_api/state/trait.StateApi.html#associatedtype.Metadata" title="type sc_rpc_api::state::StateApi::Metadata">Metadata</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Hash: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static + <a class="trait" href="../../serde/ser/trait.Serialize.html" title="trait serde::ser::Serialize">Serialize</a> + <a class="trait" href="../../serde/de/trait.DeserializeOwned.html" title="trait serde::de::DeserializeOwned">DeserializeOwned</a>,&nbsp;</span></code><a class="srclink" href="../../src/sc_rpc_api/state/mod.rs.html#36" title="goto source code">[src]</a></h3><div class="docblock"><p>Create an <code>IoDelegate</code>, wiring rpc calls to the trait methods.</p>
</div></div><span class="loading-content">Loading content...</span><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"></div><span class="loading-content">Loading content...</span><script type="text/javascript" src="../../implementors/sc_rpc_api/state/trait.StateApi.js" async></script></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="sc_rpc_api" data-search-js="../../search-index.js"></div>
    <script src="../../main.js"></script></body></html>