<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This pallet’s configuration trait"><meta name="keywords" content="rust, rustlang, rust-lang, Config"><title>pallet_mmr::Config - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings"></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../favicon.svg">
<link rel="alternate icon" type="image/png" href="../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../pallet_mmr/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><p class="location">Trait Config</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#associated-types">Associated Types</a><div class="sidebar-links"><a href="#associatedtype.Hash">Hash</a><a href="#associatedtype.WeightInfo">WeightInfo</a><a href="#associatedtype.Hashing">Hashing</a><a href="#associatedtype.LeafData">LeafData</a><a href="#associatedtype.OnNewRoot">OnNewRoot</a></div><a class="sidebar-title" href="#associated-const">Associated Constants</a><div class="sidebar-links"><a href="#associatedconstant.INDEXING_PREFIX">INDEXING_PREFIX</a></div><a class="sidebar-title" href="#implementors">Implementors</a></div><p class="location"><a href="index.html">pallet_mmr</a></p><div id="sidebar-vars" data-name="Config" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Trait <a href="index.html">pallet_mmr</a>::<wbr><a class="trait" href="">Config</a></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/pallet_mmr/lib.rs.html#83-136" title="goto source code">[src]</a></span></h1><div class="docblock type-decl hidden-by-usual-hider"><pre class="rust trait">pub trait Config&lt;I&nbsp;=&nbsp;<a class="struct" href="../pallet_mmr/struct.DefaultInstance.html" title="struct pallet_mmr::DefaultInstance">DefaultInstance</a>&gt;: <a class="trait" href="../frame_system/pallet/trait.Config.html" title="trait frame_system::pallet::Config">Config</a> {
    type <a href="#associatedtype.Hashing" class="type">Hashing</a>: <a class="trait" href="../sp_runtime/traits/trait.Hash.html" title="trait sp_runtime::traits::Hash">Hash</a>&lt;Output = Self::<a class="type" href="../pallet_mmr/trait.Config.html#associatedtype.Hash" title="type pallet_mmr::Config::Hash">Hash</a>&gt;;
    type <a href="#associatedtype.Hash" class="type">Hash</a>: <a class="trait" href="../sp_runtime/traits/trait.Member.html" title="trait sp_runtime::traits::Member">Member</a> + <a class="trait" href="../sp_runtime/traits/trait.MaybeSerializeDeserialize.html" title="trait sp_runtime::traits::MaybeSerializeDeserialize">MaybeSerializeDeserialize</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/hash/trait.Hash.html" title="trait core::hash::Hash">Hash</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsMut.html" title="trait core::convert::AsMut">AsMut</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Copy.html" title="trait core::marker::Copy">Copy</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a> + <a class="trait" href="../parity_scale_codec/codec/trait.Codec.html" title="trait parity_scale_codec::codec::Codec">Codec</a> + <a class="trait" href="../parity_scale_codec/encode_like/trait.EncodeLike.html" title="trait parity_scale_codec::encode_like::EncodeLike">EncodeLike</a>;
    type <a href="#associatedtype.LeafData" class="type">LeafData</a>: <a class="trait" href="../pallet_mmr_primitives/trait.LeafDataProvider.html" title="trait pallet_mmr_primitives::LeafDataProvider">LeafDataProvider</a>;
    type <a href="#associatedtype.OnNewRoot" class="type">OnNewRoot</a>: <a class="trait" href="../pallet_mmr_primitives/trait.OnNewRoot.html" title="trait pallet_mmr_primitives::OnNewRoot">OnNewRoot</a>&lt;Self::<a class="type" href="../pallet_mmr/trait.Config.html#associatedtype.Hash" title="type pallet_mmr::Config::Hash">Hash</a>&gt;;
    type <a href="#associatedtype.WeightInfo" class="type">WeightInfo</a>: <a class="trait" href="../pallet_mmr/trait.WeightInfo.html" title="trait pallet_mmr::WeightInfo">WeightInfo</a>;

    const <a href="#associatedconstant.INDEXING_PREFIX" class="constant"><b>INDEXING_PREFIX</b></a>: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;'static [</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>;
}</pre></div><div class="docblock"><p>This pallet’s configuration trait</p>
</div><h2 id="associated-types" class="small-section-header">Associated Types<a href="#associated-types" class="anchor"></a></h2><div class="methods"><h3 id="associatedtype.Hashing" class="method"><code>type <a href="#associatedtype.Hashing" class="type">Hashing</a>: <a class="trait" href="../sp_runtime/traits/trait.Hash.html" title="trait sp_runtime::traits::Hash">Hash</a>&lt;Output = Self::<a class="type" href="../pallet_mmr/trait.Config.html#associatedtype.Hash" title="type pallet_mmr::Config::Hash">Hash</a>&gt;</code><a class="srclink" href="../src/pallet_mmr/lib.rs.html#104" title="goto source code">[src]</a></h3><div class="docblock"><p>A hasher type for MMR.</p>
<p>To construct trie nodes that result in merging (bagging) two peaks, depending on the node
kind we take either:</p>
<ul>
<li>The node (hash) itself if it’s an inner node.</li>
<li>The hash of SCALE-encoding of the leaf data if it’s a leaf node.</li>
</ul>
<p>Then we create a tuple of these two hashes, SCALE-encode it (concatenate) and
hash, to obtain a new MMR inner node - the new peak.</p>
</div><h3 id="associatedtype.Hash" class="method"><code>type <a href="#associatedtype.Hash" class="type">Hash</a>: <a class="trait" href="../sp_runtime/traits/trait.Member.html" title="trait sp_runtime::traits::Member">Member</a> + <a class="trait" href="../sp_runtime/traits/trait.MaybeSerializeDeserialize.html" title="trait sp_runtime::traits::MaybeSerializeDeserialize">MaybeSerializeDeserialize</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/hash/trait.Hash.html" title="trait core::hash::Hash">Hash</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsMut.html" title="trait core::convert::AsMut">AsMut</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Copy.html" title="trait core::marker::Copy">Copy</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a> + <a class="trait" href="../parity_scale_codec/codec/trait.Codec.html" title="trait parity_scale_codec::codec::Codec">Codec</a> + <a class="trait" href="../parity_scale_codec/encode_like/trait.EncodeLike.html" title="trait parity_scale_codec::encode_like::EncodeLike">EncodeLike</a></code><a class="srclink" href="../src/pallet_mmr/lib.rs.html#110-112" title="goto source code">[src]</a></h3><div class="docblock"><p>The hashing output type.</p>
<p>This type is actually going to be stored in the MMR.
Required to be provided again, to satisfy trait bounds for storage items.</p>
</div><h3 id="associatedtype.LeafData" class="method"><code>type <a href="#associatedtype.LeafData" class="type">LeafData</a>: <a class="trait" href="../pallet_mmr_primitives/trait.LeafDataProvider.html" title="trait pallet_mmr_primitives::LeafDataProvider">LeafDataProvider</a></code><a class="srclink" href="../src/pallet_mmr/lib.rs.html#124" title="goto source code">[src]</a></h3><div class="docblock"><p>Data stored in the leaf nodes.</p>
<p>The <a href="../pallet_mmr_primitives/trait.LeafDataProvider.html">LeafData</a> is responsible for returning the entire leaf
data that will be inserted to the MMR.
<a href="../pallet_mmr_primitives/trait.LeafDataProvider.html">LeafDataProvider</a>s can be composed into tuples to put
multiple elements into the tree. In such a case it might be worth using <a href="../pallet_mmr_primitives/struct.Compact.html" title="primitives::Compact">primitives::Compact</a>
to make MMR proof for one element of the tuple leaner.</p>
<p>Note that the leaf at each block MUST be unique. You may want to include a block hash or block
number as an easiest way to ensure that.</p>
</div><h3 id="associatedtype.OnNewRoot" class="method"><code>type <a href="#associatedtype.OnNewRoot" class="type">OnNewRoot</a>: <a class="trait" href="../pallet_mmr_primitives/trait.OnNewRoot.html" title="trait pallet_mmr_primitives::OnNewRoot">OnNewRoot</a>&lt;Self::<a class="type" href="../pallet_mmr/trait.Config.html#associatedtype.Hash" title="type pallet_mmr::Config::Hash">Hash</a>&gt;</code><a class="srclink" href="../src/pallet_mmr/lib.rs.html#132" title="goto source code">[src]</a></h3><div class="docblock"><p>A hook to act on the new MMR root.</p>
<p>For some applications it might be beneficial to make the MMR root available externally
apart from having it in the storage. For instance you might output it in the header digest
(see <a href="../frame_system/pallet/struct.Pallet.html#method.deposit_log" title="frame_system::Pallet::deposit_log"><code>frame_system::Pallet::deposit_log</code></a>) to make it available for Light Clients.
Hook complexity should be <code>O(1)</code>.</p>
</div><h3 id="associatedtype.WeightInfo" class="method"><code>type <a href="#associatedtype.WeightInfo" class="type">WeightInfo</a>: <a class="trait" href="../pallet_mmr/trait.WeightInfo.html" title="trait pallet_mmr::WeightInfo">WeightInfo</a></code><a class="srclink" href="../src/pallet_mmr/lib.rs.html#135" title="goto source code">[src]</a></h3><div class="docblock"><p>Weights for this pallet.</p>
</div></div><span class="loading-content">Loading content...</span><h2 id="associated-const" class="small-section-header">Associated Constants<a href="#associated-const" class="anchor"></a></h2><div class="methods"><h3 id="associatedconstant.INDEXING_PREFIX" class="method"><code>const <a href="#associatedconstant.INDEXING_PREFIX" class="constant"><b>INDEXING_PREFIX</b></a>: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;'static [</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a></code><a class="srclink" href="../src/pallet_mmr/lib.rs.html#93" title="goto source code">[src]</a></h3><div class="docblock"><p>Prefix for elements stored in the Off-chain DB via Indexing API.</p>
<p>Each node of the MMR is inserted both on-chain and off-chain via Indexing API.
The former does not store full leaf content, just it’s compact version (hash),
and some of the inner mmr nodes might be pruned from on-chain storage.
The later will contain all the entries in their full form.</p>
<p>Each node is stored in the Off-chain DB under key derived from the <a href="../pallet_mmr/trait.Config.html#associatedconstant.INDEXING_PREFIX" title="Self::INDEXING_PREFIX"><code>Self::INDEXING_PREFIX</code></a> and
it’s in-tree index (MMR position).</p>
</div></div><span class="loading-content">Loading content...</span><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"></div><span class="loading-content">Loading content...</span><script type="text/javascript" src="../implementors/pallet_mmr/trait.Config.js" async></script></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="pallet_mmr" data-search-js="../search-index.js"></div>
    <script src="../main.js"></script></body></html>